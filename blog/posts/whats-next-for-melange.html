<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>What's next for Melange | Sandtracks</title>
    <meta name="description" content="The official blog for the Melange project">
    <meta name="generator" content="VitePress v1.0.0-rc.42">
    <link rel="preload stylesheet" href="/blog/assets/style.EfEfGRmq.css" as="style">
    
    <script type="module" src="/blog/assets/app.Fjwmjcop.js"></script>
    <link rel="modulepreload" href="/blog/assets/chunks/framework.esbpoalq.js">
    <link rel="modulepreload" href="/blog/assets/chunks/theme.e5RzdRmk.js">
    <link rel="modulepreload" href="/blog/assets/posts_whats-next-for-melange.md.cWDv6M5T.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
    <link rel="canonical" href="https://anmonteiro.substack.com/p/whats-next-for-melange">
  </head>
  <body>
    <div id="app"><div class="antialiased dark:bg-zinc-900"><div class="max-w-3xl mx-auto px-4 sm:px-6 xl:max-w-5xl xl:px-0"><nav class="flex justify-between items-center py-10 font-bold"><a class="text-xl" href="/blog/" aria-label="Sandtracks"><span class="hidden md:inline dark:text-white">Sandtracks</span></a><div class="text-sm text-gray-500 dark:text-white leading-5"><a class="hover:text-gray-700 dark:hover:text-gray-200" href="https://github.com/melange-re/melange-re.github.io/" target="_blank" rel="noopener"><span class="hidden sm:inline">GitHub </span>Source</a><span class="mr-2 ml-2">·</span><a class="hover:text-gray-700 dark:hover:text-gray-200" href="/blog/feed.rss" target="_self">RSS<span class="hidden sm:inline"> Feed</span></a><span class="mr-2 ml-2">·</span><a class="hover:text-gray-700 dark:hover:text-gray-200" href="https://melange.re" target="_blank" rel="noopener">melange.re →</a></div></nav></div><main class="max-w-3xl mx-auto px-4 sm:px-6 xl:max-w-5xl xl:px-0"><article class="xl:divide-y xl:divide-gray-200 dark:xl:divide-slate-200/5"><header class="pt-6 xl:pb-10 space-y-1 text-center"><dl><dt class="sr-only">Published on</dt><dd class="text-base leading-6 font-medium text-gray-500 dark:text-gray-300"><time datetime="2023-07-10T12:00:00.000Z">July 10, 2023</time></dd></dl><h1 class="text-3xl leading-9 font-extrabold text-gray-900 dark:text-white tracking-tight sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">What&#39;s next for Melange</h1></header><div class="divide-y xl:divide-y-0 divide-gray-200 dark:divide-slate-200/5 xl:grid xl:grid-cols-4 xl:gap-x-10 pb-16 xl:pb-20" style="grid-template-rows:auto 1fr;"><dl class="pt-6 pb-10 xl:pt-11 xl:border-b xl:border-gray-200 dark:xl:border-slate-200/5"><dt class="sr-only">Authors</dt><dd><ul class="flex justify-center xl:block space-x-8 sm:space-x-12 xl:space-x-0 xl:space-y-8"><li class="flex items-center space-x-2"><img src="https://gravatar.com/avatar/45c2052f50f561b9dc2cae59c777aecd794f57269fa317f9c9c3365c2e00d16f" alt="author image" class="w-10 h-10 rounded-full"><dl class="text-sm font-medium leading-5 whitespace-nowrap"><dt class="sr-only">Name</dt><dd class="text-gray-900 dark:text-white">Antonio Monteiro</dd><dt class="sr-only">Twitter</dt><dd><a href="https://twitter.com/@_anmonteiro" target="_blank" rel="noopnener noreferrer" class="link">@_anmonteiro</a></dd></dl></li></ul></dd></dl><div class="divide-y divide-gray-200 dark:divide-slate-200/5 xl:pb-0 xl:col-span-3 xl:row-span-2"><div style="position:relative;" class="prose dark:prose-invert max-w-none pt-10 pb-8"><div><p>We&#39;re quite happy with how far Melange has come -- I previously wrote about <a href="https://anmonteiro.substack.com/p/melange-10-is-here" target="_blank" rel="noreferrer">releasing Melange 1.0</a> and a <a href="https://anmonteiro.substack.com/p/melange-q2-2023-retrospective" target="_blank" rel="noreferrer">retrospective on Q2 2023</a>.</p><p>But we&#39;re not done yet: there&#39;s more in slate for the next quarter. I&#39;ll tell you what we&#39;re looking to achieve in Q3 2023.</p><hr><p>We&#39;ve decided to call the next Melange version 2.0 -- we plan to make a few breaking changes. The main goal for this quarter is to release Melange 2.0. We will focus across a few different axes.</p><h3 id="ocaml-and-ocaml-platform-compatibility" tabindex="-1">OCaml (and OCaml Platform) compatibility <a class="header-anchor" href="#ocaml-and-ocaml-platform-compatibility" aria-label="Permalink to &quot;OCaml (and OCaml Platform) compatibility&quot;">​</a></h3><p>Melange integrates with the most popular workflows in the OCaml ecosystem. <a href="https://dune.build/" target="_blank" rel="noreferrer">Dune</a> builds Melange projects. <a href="https://github.com/ocaml/merlin" target="_blank" rel="noreferrer">Merlin</a> and the <a href="https://github.com/ocaml/ocaml-lsp" target="_blank" rel="noreferrer">OCaml LSP</a> power editor integration. <a href="https://github.com/ocaml-ppx/ocamlformat" target="_blank" rel="noreferrer">OCamlformat</a> and <a href="https://github.com/reasonml/reason" target="_blank" rel="noreferrer">Reason</a>&#39;s <code>refmt</code> automatically format code. <a href="https://github.com/tarides/dune-release" target="_blank" rel="noreferrer">dune-release</a> publishes Melange libraries and PPX to the <a href="https://github.com/ocaml/opam-repository/" target="_blank" rel="noreferrer">OPAM repository</a>. <a href="https://github.com/ocaml/odoc" target="_blank" rel="noreferrer">odoc</a> builds package documentation.</p><p>In Melange 2.0, we will:</p><ul><li><p>Upgrade the Melange type-checker and standard library to OCaml 5.1:</p><ul><li><p>Turn off <a href="https://v2.ocaml.org/manual/effects.html" target="_blank" rel="noreferrer">Effect Handlers</a> for the time being.</p></li><li><p>Provide a compatible <a href="https://v2.ocaml.org/api/Domain.html" target="_blank" rel="noreferrer">Domain</a> module shim.</p></li></ul></li><li><p>Move the Melange internal PPX completely out of the compiler, into <code>melange.ppx</code>:</p></li><li><p>Wrap the <code>Belt</code> and <code>Js</code> libraries:</p><ul><li>These currently expose all their internal modules. Dune can wrap them nicely under a single top-level module.</li></ul></li><li><p>Break out <code>melange.node</code>:</p><ul><li>The Node.js bindings are rarely used. We will require <code>melange.node</code> be added to the Dune <code>libraries</code> field.</li></ul></li></ul><h3 id="developer-experience" tabindex="-1">Developer Experience <a class="header-anchor" href="#developer-experience" aria-label="Permalink to &quot;Developer Experience&quot;">​</a></h3><p>While Melange already integrates with the OCaml Platform tooling and workflow, there is space to make the experience of developing Melange projects even better.</p><p>We want to focus on:</p><ul><li><p>Improving the editing experience:</p><ul><li><p>Melange can compile FFI <code>external</code>s better, in a way that works better with analysis tools such as Merlin.</p></li><li><p><code>reason-react-ppx</code> doesn&#39;t faithfully respect the JSX node locations. We want to fix that so that &quot;go to definition&quot; works better for Reason JSX.</p></li></ul></li><li><p>Improving the interaction between OPAM and npm:</p><ul><li><p>Melange bridges the OPAM and npm ecosystems. Some packages published to OPAM depend on npm dependencies at runtime.</p></li><li><p>We want to <a href="https://github.com/melange-re/melange/issues/629" target="_blank" rel="noreferrer">explore solving</a> this issue, starting with a tool that checks that the required npm dependencies are installed in Melange projects.</p></li></ul></li><li><p>Generating <a href="https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit?hl=en_US&amp;pli=1&amp;pli=1" target="_blank" rel="noreferrer">Source Maps</a>:</p><ul><li><p>Source Maps allow mapping generated code back to the original OCaml / Reason source.</p></li><li><p>Among other benefits, source maps allow for better stack traces that map to the original lines of code that triggered runtime crashes.</p></li></ul></li></ul><h3 id="documentation-and-branding" tabindex="-1">Documentation and Branding: <a class="header-anchor" href="#documentation-and-branding" aria-label="Permalink to &quot;Documentation and Branding:&quot;">​</a></h3><p>We released <a href="https://melange.re/" target="_blank" rel="noreferrer">melange.re</a> alongside Melange 1.0. The website contains our initial efforts to document Melange workflows, and it can be improved upon. Over the next few months, we will:</p><ul><li><p>Develop unified Melange brand guidelines and apply them to the website.</p></li><li><p>Continue documenting Melange workflows:</p><ul><li>We&#39;ve already seen some <a href="https://github.com/melange-re/melange-re.github.io/pulls?q=is%3Apr+is%3Aclosed" target="_blank" rel="noreferrer">user contributions</a>. We&#39;re looking to keep improving the Melange documentation in response to feedback from Melange users.</li></ul></li></ul><h3 id="wrapping-up" tabindex="-1">Wrapping up <a class="header-anchor" href="#wrapping-up" aria-label="Permalink to &quot;Wrapping up&quot;">​</a></h3><p>We have a lot of work ahead of us. The best way to help us is to <a href="https://melange.re/v1.0.0/getting-started/" target="_blank" rel="noreferrer">try Melange</a>. We&#39;d love to read your feedback.</p><p>I tried to summarize what we&#39;ll be up to in the near future. The full <a href="https://docs.google.com/document/d/1UhanM28sOAmS3NI4q4BJBeoCX0SdBMqUIq0rofdpOfU/edit" target="_blank" rel="noreferrer">Melange Roadmap for Q3 2023</a> goes into more detail.</p><p>Happy hacking!</p></div></div></div><footer class="text-sm font-medium leading-5 divide-y divide-gray-200 dark:divide-slate-200/5 xl:col-start-1 xl:row-start-2"><div class="py-8"><h2 class="text-xs tracking-wide uppercase text-gray-500 dark:text-white"> Next Article </h2><div class="link"><a href="/blog/posts/introducing-melange-20">Introducing Melange 2.0</a></div></div><!----><div class="pt-8"><a class="link" href="/blog">← Back to the blog</a></div></footer></div></article></main></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"posts_introducing-melange-20.md\":\"BABT5VNk\",\"index.md\":\"taMKmGVM\",\"posts_announcing-melange-3.md\":\"b71y2TT7\",\"posts_melange-4-is-here.md\":\"PMYZfQpm\",\"posts_the-rest-of-2023-in-melange.md\":\"vftBUth_\",\"posts_dune-universal-libraries-preview.md\":\"Xa7i7d6o\",\"posts_announcing-melange-5.md\":\"LwaIObJD\",\"posts_whats-next-for-melange.md\":\"cWDv6M5T\",\"posts_whats-2024-brought-to-melange-so-far.md\":\"LEr3Iv7R\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Sandtracks\",\"description\":\"The official blog for the Melange project\",\"base\":\"/blog/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":true}");</script>
    
  </body>
</html>