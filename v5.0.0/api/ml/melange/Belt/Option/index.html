<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Option (melange.Belt.Option)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.4"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">melange</a> &#x00BB; <a href="../index.html">Belt</a> &#x00BB; Option</nav><header class="odoc-preamble"><h1>Module <code><span>Belt.Option</span></code></h1><p><a href="#"><code>Belt.Option</code></a></p><p>Utilities for option data type.</p><p><a href="#"><code>Belt.Option</code></a></p><p>Utilities for option data type</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-keepU"><a href="#val-keepU" class="anchor"></a><code><span><span class="keyword">val</span> keepU : <span><span><span class="type-var">'a</span> option</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="xref-unresolved">Js</span>.Fn.arity1</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> option</span></span></code></div><div class="spec-doc"><p>Uncurried version of <code>keep</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-keep"><a href="#val-keep" class="anchor"></a><code><span><span class="keyword">val</span> keep : <span><span><span class="type-var">'a</span> option</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> option</span></span></code></div><div class="spec-doc"><p><code>keep optionValue p</code></p><p>If <code>optionValue</code> is <code>Some value</code> and <code>p value = true</code>, it returns <code>Some value</code>; otherwise returns <code>None</code></p><pre class="language-ocaml"><code>keep (Some 10)(fun x -&gt; x &gt; 5);; (* returns [Some 10] *)
keep (Some 4)(fun x -&gt; x &gt; 5);; (* returns [None] *)
keep None (fun x -&gt; x &gt; 5);; (* returns [None] *)</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-forEachU"><a href="#val-forEachU" class="anchor"></a><code><span><span class="keyword">val</span> forEachU : <span><span><span class="type-var">'a</span> option</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="xref-unresolved">Js</span>.Fn.arity1</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Uncurried version of <code>forEach</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-forEach"><a href="#val-forEach" class="anchor"></a><code><span><span class="keyword">val</span> forEach : <span><span><span class="type-var">'a</span> option</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>forEach optionValue f</code></p><p>If <code>optionValue</code> is <code>Some value</code>, it calls <code>f value</code>; otherwise returns <code>()</code></p><pre class="language-ocaml"><code>forEach (Some &quot;thing&quot;)(fun x -&gt; Js.log x);; (* logs &quot;thing&quot; *)
forEach None (fun x -&gt; Js.log x);; (* returns () *)</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-getExn"><a href="#val-getExn" class="anchor"></a><code><span><span class="keyword">val</span> getExn : <span><span><span class="type-var">'a</span> option</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>getExn optionalValue</code> Returns <code>value</code> if <code>optionalValue</code> is <code>Some value</code>, otherwise raises <code>getExn</code></p><pre class="language-ocaml"><code>getExn (Some 3) = 3;;
getExn None (* Raises getExn error *)</code></pre></div></div><div class="odoc-spec"><div class="spec value external anchored" id="val-getUnsafe"><a href="#val-getUnsafe" class="anchor"></a><code><span><span class="keyword">val</span> getUnsafe : <span><span><span class="type-var">'a</span> option</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>getUnsafe x</code> returns x This is an unsafe operation, it assumes x is neither not None or (Some (None .. ))</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mapWithDefaultU"><a href="#val-mapWithDefaultU" class="anchor"></a><code><span><span class="keyword">val</span> mapWithDefaultU : <span><span><span class="type-var">'a</span> option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="xref-unresolved">Js</span>.Fn.arity1</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span></span></code></div><div class="spec-doc"><p>Uncurried version of <code>mapWithDefault</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mapWithDefault"><a href="#val-mapWithDefault" class="anchor"></a><code><span><span class="keyword">val</span> mapWithDefault : <span><span><span class="type-var">'a</span> option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span></span></code></div><div class="spec-doc"><p><code>mapWithDefault optionValue default f</code></p><p>If <code>optionValue</code> is <code>Some value</code>, returns <code>f value</code>; otherwise returns <code>default</code></p><pre class="language-ocaml"><code>mapWithDefault (Some 3) 0 (fun x -&gt; x + 5) = 8;;
mapWithDefault None 0 (fun x -&gt; x + 5) = 0;;</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mapU"><a href="#val-mapU" class="anchor"></a><code><span><span class="keyword">val</span> mapU : <span><span><span class="type-var">'a</span> option</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="xref-unresolved">Js</span>.Fn.arity1</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> option</span></span></code></div><div class="spec-doc"><p>Uncurried version of <code>map</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-map"><a href="#val-map" class="anchor"></a><code><span><span class="keyword">val</span> map : <span><span><span class="type-var">'a</span> option</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> option</span></span></code></div><div class="spec-doc"><p><code>map optionValue f</code></p><p>If <code>optionValue</code> is <code>Some value</code>, returns <code>Some (f value)</code>; otherwise returns <code>None</code></p><pre class="language-ocaml"><code>map (Some 3) (fun x -&gt; x * x) = (Some 9);;
map None (fun x -&gt; x * x) = None;;</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-flatMapU"><a href="#val-flatMapU" class="anchor"></a><code><span><span class="keyword">val</span> flatMapU : <span><span><span class="type-var">'a</span> option</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> option</span>)</span> <span class="xref-unresolved">Js</span>.Fn.arity1</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> option</span></span></code></div><div class="spec-doc"><p>Uncurried version of <code>flatMap</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-flatMap"><a href="#val-flatMap" class="anchor"></a><code><span><span class="keyword">val</span> flatMap : <span><span><span class="type-var">'a</span> option</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> option</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> option</span></span></code></div><div class="spec-doc"><p><code>flatMap optionValue f</code></p><p>If <code>optionValue</code> is <code>Some value</code>, returns <code>f value</code>; otherwise returns <code>None</code> The function <code>f</code> must have a return type of <code>'a option</code></p><pre class="language-ocaml"><code>let f (x : float) =
    if x &gt;= 0.0 then
      Some (sqrt x)
    else
      None;;

flatMap (Some 4.0) f = Some 2.0;;
flatMap (Some (-4.0)) f = None;;
flatMap None f = None;;</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-getWithDefault"><a href="#val-getWithDefault" class="anchor"></a><code><span><span class="keyword">val</span> getWithDefault : <span><span><span class="type-var">'a</span> option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>getWithDefault optionalValue default</code></p><p>If <code>optionalValue</code> is <code>Some value</code>, returns <code>value</code>, otherwise <code>default</code></p><pre class="language-ocaml"><code>getWithDefault (Some 1812) 1066 = 1812;;
getWithDefault None 1066 = 1066;;</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-orElse"><a href="#val-orElse" class="anchor"></a><code><span><span class="keyword">val</span> orElse : <span><span><span class="type-var">'a</span> option</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> option</span></span></code></div><div class="spec-doc"><p><code>orElse optionalValue otherOptional</code></p><p>If <code>optionalValue</code> is <code>Some value</code>, returns <code>Some value</code>, otherwise <code>otherOptional</code></p><pre class="language-ocaml"><code>orElse (Some 1812) (Some 1066) = Some 1812;;
orElse None (Some 1066) = Some 1066;;
orElse None None = None;;</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-isSome"><a href="#val-isSome" class="anchor"></a><code><span><span class="keyword">val</span> isSome : <span><span><span class="type-var">'a</span> option</span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Returns <code>true</code> if the argument is <code>Some value</code>, <code>false</code> otherwise</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-isNone"><a href="#val-isNone" class="anchor"></a><code><span><span class="keyword">val</span> isNone : <span><span><span class="type-var">'a</span> option</span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Returns <code>true</code> if the argument is <code>None</code>, <code>false</code> otherwise</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-eqU"><a href="#val-eqU" class="anchor"></a><code><span><span class="keyword">val</span> eqU : <span><span><span class="type-var">'a</span> option</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> option</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="xref-unresolved">Js</span>.Fn.arity2</span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Uncurried version of <code>eq</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-eq"><a href="#val-eq" class="anchor"></a><code><span><span class="keyword">val</span> eq : <span><span><span class="type-var">'a</span> option</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> option</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>eq optValue1 optvalue2 predicate</code></p><p>Evaluates two optional values for equality with respect to a predicate function.</p><p>If both <code>optValue1</code> and <code>optValue2</code> are <code>None</code>, returns <code>true</code>.</p><p>If one of the arguments is <code>Some value</code> and the other is <code>None</code>, returns <code>false</code></p><p>If arguments are <code>Some value1</code> and <code>Some value2</code>, returns the result of <code>predicate value1 value2</code>; the <code>predicate</code> function must return a <code>bool</code></p><pre class="language-ocaml"><code>let clockEqual = (fun a b -&gt; a mod 12 = b mod 12);;
eq (Some 3) (Some 15) clockEqual = true;;
eq (Some 3) None clockEqual = false;;
eq None (Some 3) clockEqual = false;;
eq None None clockEqual = true;;</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-cmpU"><a href="#val-cmpU" class="anchor"></a><code><span><span class="keyword">val</span> cmpU : <span><span><span class="type-var">'a</span> option</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> option</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> int)</span> <span class="xref-unresolved">Js</span>.Fn.arity2</span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Uncurried version of <code>cmp</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-cmp"><a href="#val-cmp" class="anchor"></a><code><span><span class="keyword">val</span> cmp : <span><span><span class="type-var">'a</span> option</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> option</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> int)</span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>cmp optValue1 optvalue2 comparisonFcn</code></p><p>Compares two optional values with respect to a comparison function</p><p>If both <code>optValue1</code> and <code>optValue2</code> are <code>None</code>, returns 0.</p><p>If the first argument is <code>Some value1</code> and the second is <code>None</code>, returns 1 (something is greater than nothing)</p><p>If the first argument is <code>None</code> and the second is <code>Some value2</code>, returns -1 (nothing is less than something)</p><p>If the arguments are <code>Some value1</code> and <code>Some value2</code>, returns the result of <code>comparisonFcn value1 value2</code>; <code>comparisonFcn</code> takes two arguments and returns -1 if the first argument is less than the second, 0 if the arguments are equal, and 1 if the first argument is greater than the second.</p><pre class="language-ocaml"><code>let clockCompare = fun a b -&gt; compare (a mod 12) (b mod 12);;
cmp (Some 3) (Some 15) clockCompare = 0;;
cmp (Some 3) (Some 14) clockCompare = 1;;
cmp (Some 2) (Some 15) clockCompare = -1;;
cmp None (Some 15) clockCompare = -1;;
cmp (Some 14) None clockCompare = 1;;
cmp None None clockCompare = 0;;</code></pre></div></div></div></body></html>
